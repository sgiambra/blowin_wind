
 make.py started: 2018-04-01 10:01:40 C:\Users\giamb\Documents\GitHub\blowin_wind\analysis\descriptive_regressions\code 




Execute:  StataSE-64 /e do "./analysis.do"

  ___  ____  ____  ____  ____ (R)
 /__    /   ____/   /   ____/
___/   /   /___/   /   /___/   15.0   Copyright 1985-2017 StataCorp LLC
  Statistics/Data Analysis            StataCorp
                                      4905 Lakeway Drive
     Special Edition                  College Station, Texas 77845 USA
                                      800-STATA-PC        http://www.stata.com
                                      979-696-4600        stata@stata.com
                                      979-696-4601 (fax)

110-user Stata network perpetual license:
       Serial number:  401506201178
         Licensed to:  Brown University
                       Brown University

Notes:
      1.  Stata is running in batch mode.
      2.  Unicode is supported; see help unicode_advice.
      3.  Maximum number of variables is set to 5000; see help set_maxvar.

. do ./analysis.do 

. set more off

. adopath + ../../../lib/stata/gslab_misc/ado
  [1]  (BASE)      "C:\Program Files (x86)\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"

. adopath + ../../../lib/third_party/stata_tools
  [1]  (BASE)      "C:\Program Files (x86)\Stata15\ado\base/"
  [2]  (SITE)      "C:\Program Files (x86)\Stata15\ado\site/"
  [3]              "."
  [4]  (PERSONAL)  "c:\ado\personal/"
  [5]  (PLUS)      "c:\ado\plus/"
  [6]  (OLDPLACE)  "c:\ado/"
  [7]              "../../../lib/stata/gslab_misc/ado"
  [8]              "../../../lib/third_party/stata_tools"

. preliminaries, loadglob("../../../lib/python/wind/input_params.txt")

. 
. program main
  1.     local table_file    "../output/tables.txt"
  2.     local depvar        "D.ln_p"
  3.     local instr         "first_us_turb_pot_wind_cap"
  4. 
.     use "${GoogleDrive}/stata/build_wind_panel/wind_panel_tract_fhfa.dta", clear
  5. 
.     build_descriptive_table, depvar(`depvar') endog("D.aggr_turb_tract_year") ///
>             instr(`instr') time_fe(year) cluster(tract_fip)
  6.     matrix fs_table  = r(fs_col)
  7.     matrix ols_table = r(ols_col)
  8.     matrix iv_table  = r(iv_col)
  9. 
.     use "${GoogleDrive}/stata/build_wind_panel/wind_panel_zip_fhfa.dta", clear
 10. 
.     build_descriptive_table, depvar(`depvar') endog("D.aggr_turb_zip_year") ///
>             instr(`instr') time_fe(year) cluster(regionname)
 11.     matrix fs_table  = (fs_table, r(fs_col))
 12.     matrix ols_table = (ols_table, r(ols_col))
 13.     matrix iv_table  = (iv_table, r(iv_col))
 14. 
.     foreach file in "wind_panel_zip_median_listing_sqft" "wind_panel_zip_zhvi" {
 15.         use "${GoogleDrive}/stata/build_wind_panel/`file'.dta", clear
 16. 
.         build_descriptive_table, depvar(`depvar') endog("D.aggr_turb_zip_month") ///
>             instr(`instr') time_fe(dt) cluster(regionname)
 17.         matrix fs_table  = (nullmat(fs_table), r(fs_col))
 18.         matrix ols_table = (nullmat(ols_table), r(ols_col))
 19.         matrix iv_table  = (nullmat(iv_table), r(iv_col))
 20.     }
 21. 
.     matrix_to_txt, saving(`table_file') mat(fs_table) ///
>         format(%20.5f) title(<tab:descr_fs>) replace
 22.     matrix_to_txt, saving(`table_file') mat(ols_table) ///
>         format(%20.5f) title(<tab:descr_ols>) append
 23.     matrix_to_txt, saving(`table_file') mat(iv_table) ///
>         format(%20.5f) title(<tab:descr_iv>) append
 24. end

. 
. program build_descriptive_table, rclass
  1.     syntax, depvar(str) endog(str) instr(str) time_fe(str) [controls(str) *]
  2. 
.     local obs    = "e(N_clust) \ e(N)"
  3.     local ss_est = "_b[`endog'] \ _se[`endog']"
  4.     local fs_est = "_b[`instr'] \ _se[`instr']"
  5. 
.     reghdfe `endog' `instr' `controls', absorb(`time_fe') `options'
  6.     matrix fs_col = (`fs_est' \ `obs')
  7. 
.     reghdfe `depvar' `controls' `endog', absorb(`time_fe') `options'
  8.     matrix ols_col = (`ss_est' \ `obs')
  9.     reghdfe `depvar' `controls' (`endog' = `instr'), absorb(`time_fe') `options'
 10.     matrix iv_col = (`ss_est' \ `obs')
 11. 
.     return matrix fs_col  = fs_col
 12.     return matrix ols_col = ols_col
 13.     return matrix iv_col  = iv_col
 14. end

. 
. * Execute
. main
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =  1,147,555
Absorbing 1 HDFE group                            F(   1,  46730) =     107.83
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0030
                                                  Adj R-squared   =     0.0030
                                                  Within R-sq.    =     0.0028
Number of clusters (tract_fip) =     46,731       Root MSE        =     1.1495

                                       (Std. Err. adjusted for 46,731 clusters in tract_fip)
--------------------------------------------------------------------------------------------
                           |               Robust
    D.aggr_turb_tract_year |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------------+----------------------------------------------------------------
first_us_turb_pot_wind_cap |   .0040051   .0003857    10.38   0.000     .0032492    .0047611
--------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------------+
               Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------------+-------------------------------------------------|
                      year |           42              42              0     | 
-----------------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =  1,147,555
Absorbing 1 HDFE group                            F(   1,  46730) =       8.75
Statistics robust to heteroskedasticity           Prob > F        =     0.0031
                                                  R-squared       =     0.3047
                                                  Adj R-squared   =     0.3047
                                                  Within R-sq.    =     0.0000
Number of clusters (tract_fip) =     46,731       Root MSE        =     0.0684

                                 (Std. Err. adjusted for 46,731 clusters in tract_fip)
--------------------------------------------------------------------------------------
                     |               Robust
              D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
aggr_turb_tract_year |
                 D1. |    .000158   .0000534     2.96   0.003     .0000533    .0002627
--------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------+
         Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------+-------------------------------------------------|
                year |           42              42              0     | 
-----------------------------------------------------------------------+
(converged in 1 iterations)

HDFE IV (2SLS) estimation
-------------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on tract_fip

Number of clusters (tract_fip) =  46731               Number of obs =  1147555
                                                      F(  1, 46730) =    92.16
                                                      Prob > F      =   0.0000
Total (centered) SS     =  5374.819198                Centered R2   =   0.1978
Total (uncentered) SS   =  5374.819198                Uncentered R2 =        .
Residual SS             =  6201.507109                Root MSE      =   .07351

--------------------------------------------------------------------------------------
                     |               Robust
              D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------+----------------------------------------------------------------
aggr_turb_tract_year |
                 D1. |  -.0231604   .0024126    -9.60   0.000    -.0278891   -.0184317
--------------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):            103.181
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             3165.953
                         (Kleibergen-Paap rk Wald F statistic):        107.828
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         D.aggr_turb_tract_year
Excluded instruments: first_us_turb_pot_wind_cap
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------+
         Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------+-------------------------------------------------|
                year |           42              42              0     | 
-----------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    442,092
Absorbing 1 HDFE group                            F(   1,  16785) =      95.15
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0048
                                                  Adj R-squared   =     0.0047
                                                  Within R-sq.    =     0.0041
Number of clusters (regionname) =     16,786      Root MSE        =     1.4320

                                      (Std. Err. adjusted for 16,786 clusters in regionname)
--------------------------------------------------------------------------------------------
                           |               Robust
      D.aggr_turb_zip_year |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------------+----------------------------------------------------------------
first_us_turb_pot_wind_cap |   .0047065   .0004825     9.75   0.000     .0037608    .0056522
--------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------------+
               Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------------+-------------------------------------------------|
                      year |           42              42              0     | 
-----------------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    442,092
Absorbing 1 HDFE group                            F(   1,  16785) =       2.36
Statistics robust to heteroskedasticity           Prob > F        =     0.1243
                                                  R-squared       =     0.2976
                                                  Adj R-squared   =     0.2975
                                                  Within R-sq.    =     0.0000
Number of clusters (regionname) =     16,786      Root MSE        =     0.0616

                              (Std. Err. adjusted for 16,786 clusters in regionname)
------------------------------------------------------------------------------------
                   |               Robust
            D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------------+----------------------------------------------------------------
aggr_turb_zip_year |
               D1. |   .0001041   .0000677     1.54   0.124    -.0000286    .0002369
------------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------------------+
       Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
-------------------+-------------------------------------------------|
              year |           42              42              0     | 
---------------------------------------------------------------------+
(converged in 1 iterations)

HDFE IV (2SLS) estimation
-------------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on regionname

Number of clusters (regionname) =  16786              Number of obs =   442092
                                                      F(  1, 16785) =    55.03
                                                      Prob > F      =   0.0000
Total (centered) SS     =  1679.781612                Centered R2   =   0.2615
Total (uncentered) SS   =  1679.781612                Uncentered R2 =        .
Residual SS             =  1766.027372                Root MSE      =   .06321

------------------------------------------------------------------------------------
                   |               Robust
            D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------------+----------------------------------------------------------------
aggr_turb_zip_year |
               D1. |  -.0096308   .0012982    -7.42   0.000    -.0121755   -.0070862
------------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             90.277
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             1826.205
                         (Kleibergen-Paap rk Wald F statistic):         95.154
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         D.aggr_turb_zip_year
Excluded instruments: first_us_turb_pot_wind_cap
------------------------------------------------------------------------------

Absorbed degrees of freedom:
---------------------------------------------------------------------+
       Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
-------------------+-------------------------------------------------|
              year |           42              42              0     | 
---------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    722,194
Absorbing 1 HDFE group                            F(   1,   9308) =      23.15
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0019
                                                  Adj R-squared   =     0.0017
                                                  Within R-sq.    =     0.0017
Number of clusters (regionname) =      9,309      Root MSE        =     0.2382

                                       (Std. Err. adjusted for 9,309 clusters in regionname)
--------------------------------------------------------------------------------------------
                           |               Robust
     D.aggr_turb_zip_month |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------------+----------------------------------------------------------------
first_us_turb_pot_wind_cap |   .0006276   .0001304     4.81   0.000     .0003719    .0008833
--------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------------+
               Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------------+-------------------------------------------------|
                        dt |           96              96              0     | 
-----------------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =    722,194
Absorbing 1 HDFE group                            F(   1,   9308) =       0.29
Statistics robust to heteroskedasticity           Prob > F        =     0.5895
                                                  R-squared       =     0.0414
                                                  Adj R-squared   =     0.0413
                                                  Within R-sq.    =     0.0000
Number of clusters (regionname) =      9,309      Root MSE        =     0.0296

                                (Std. Err. adjusted for 9,309 clusters in regionname)
-------------------------------------------------------------------------------------
                    |               Robust
             D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
aggr_turb_zip_month |
                D1. |   .0000823   .0001525     0.54   0.590    -.0002167    .0003812
-------------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------------+
        Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
--------------------+-------------------------------------------------|
                 dt |           96              96              0     | 
----------------------------------------------------------------------+
(converged in 1 iterations)

HDFE IV (2SLS) estimation
-------------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on regionname

Number of clusters (regionname) =   9309              Number of obs =   722194
                                                      F(  1,  9308) =     3.80
                                                      Prob > F      =   0.0513
Total (centered) SS     =  633.3612313                Centered R2   =   0.0393
Total (uncentered) SS   =  633.3612313                Uncentered R2 =        .
Residual SS             =  634.7323552                Root MSE      =   .02965

-------------------------------------------------------------------------------------
                    |               Robust
             D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
aggr_turb_zip_month |
                D1. |  -.0056985   .0029235    -1.95   0.051    -.0114293    .0000322
-------------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             21.998
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             1212.612
                         (Kleibergen-Paap rk Wald F statistic):         23.148
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         D.aggr_turb_zip_month
Excluded instruments: first_us_turb_pot_wind_cap
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------------+
        Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
--------------------+-------------------------------------------------|
                 dt |           96              96              0     | 
----------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =  3,309,753
Absorbing 1 HDFE group                            F(   1,  14081) =      63.22
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.0016
                                                  Adj R-squared   =     0.0015
                                                  Within R-sq.    =     0.0014
Number of clusters (regionname) =     14,082      Root MSE        =     0.2628

                                      (Std. Err. adjusted for 14,082 clusters in regionname)
--------------------------------------------------------------------------------------------
                           |               Robust
     D.aggr_turb_zip_month |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
---------------------------+----------------------------------------------------------------
first_us_turb_pot_wind_cap |   .0005199   .0000654     7.95   0.000     .0003918    .0006481
--------------------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------------------------------+
               Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
---------------------------+-------------------------------------------------|
                        dt |          261             261              0     | 
-----------------------------------------------------------------------------+
(converged in 1 iterations)

HDFE Linear regression                            Number of obs   =  3,309,753
Absorbing 1 HDFE group                            F(   1,  14081) =       0.61
Statistics robust to heteroskedasticity           Prob > F        =     0.4361
                                                  R-squared       =     0.1540
                                                  Adj R-squared   =     0.1539
                                                  Within R-sq.    =     0.0000
Number of clusters (regionname) =     14,082      Root MSE        =     0.0095

                               (Std. Err. adjusted for 14,082 clusters in regionname)
-------------------------------------------------------------------------------------
                    |               Robust
             D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
aggr_turb_zip_month |
                D1. |  -.0000219   .0000282    -0.78   0.436    -.0000771    .0000333
-------------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------------+
        Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
--------------------+-------------------------------------------------|
                 dt |          261             261              0     | 
----------------------------------------------------------------------+
(converged in 1 iterations)

HDFE IV (2SLS) estimation
-------------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on regionname

Number of clusters (regionname) =  14082              Number of obs =  3309753
                                                      F(  1, 14081) =    58.46
                                                      Prob > F      =   0.0000
Total (centered) SS     =  297.8514765                Centered R2   =  -0.1776
Total (uncentered) SS   =  297.8514765                Uncentered R2 =        .
Residual SS             =  414.6062156                Root MSE      =   .01119

-------------------------------------------------------------------------------------
                    |               Robust
             D.ln_p |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
--------------------+----------------------------------------------------------------
aggr_turb_zip_month |
                D1. |  -.0226055   .0029565    -7.65   0.000    -.0284006   -.0168103
-------------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             59.840
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             4489.228
                         (Kleibergen-Paap rk Wald F statistic):         63.221
Stock-Yogo weak ID test critical values: 10% maximal IV size             16.38
                                         15% maximal IV size              8.96
                                         20% maximal IV size              6.66
                                         25% maximal IV size              5.53
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         D.aggr_turb_zip_month
Excluded instruments: first_us_turb_pot_wind_cap
------------------------------------------------------------------------------

Absorbed degrees of freedom:
----------------------------------------------------------------------+
        Absorbed FE |  Num. Coefs.  =   Categories  -   Redundant     | 
--------------------+-------------------------------------------------|
                 dt |          261             261              0     | 
----------------------------------------------------------------------+
(note: file ../output/tables.txt not found)

. 
end of do-file

 make.py ended: 2018-04-01 10:03:08
